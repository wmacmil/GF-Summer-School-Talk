\documentclass{beamer}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[english]{babel}

\usepackage{geometry}
\usepackage{setspace}

\usepackage{latex/agda}
\usepackage{unicode-math}
\setmathfont{XITS Math}

\usepackage{newunicodechar}
\newunicodechar{→}{\ensuremath{\mathnormal\to}}
\newunicodechar{ℕ}{\ensuremath{\mathnormal\bN}}

\usepackage{xcolor}
\usepackage[normalem]{ulem}%per barrare parole
\usepackage{soul} %barrare numeri
% \usepackage{booktabs}%per tabelle
\usepackage{amsmath} %leqno mette elenchi in align a sx
\usepackage{amssymb}
% \usepackage{enumitem} %personalizza gli elenchi
% \usepackage{amsthm} %teoremi e definizioni

\usepackage{multirow}%più righe nella stessa cella in tabella
\usepackage{multicol}
\usepackage{caption}
\usepackage{bussproofs}

\usepackage{tikz-cd}
\usetikzlibrary{matrix}

% \usepackage{tikz-cd}
% % \usepackage{tikz}

\usetheme{Antibes}
\usecolortheme{beaver}
\useinnertheme{rounded}
\useoutertheme{infolines}

%\titlegraphic{\includegraphics[width=25mm]{gottingen1.png}}
\title{Modeling Formal Languages in Grammatical Framework}
\subtitle{On the Grammar of Proof}
\author{Warrick Macmillan}
\date{$7^{th}$ August 2021}


\begin{document}

\begin{frame}
  \titlepage
\end{frame}


% \begin{frame}
% \frametitle{Overview}
% \tableofcontents
% \end{frame}

\section{Overview}

\subsection{Quick Recapitulation}
\begin{frame}
\frametitle{Recapitulation}

\begin{enumerate}
\item types such as ``$(n \backslash s)$'', ``$n$'';
\item Has ways of constructing new types and a grammar for
  ``well-formedness'';
\item A (finite set) of symbols (such as ``poor'' and ``John''), to
  which are matched said types.
\end{enumerate}
\end{frame}


\begin{frame}[fragile]
\begin{columns}
\begin{column}{.5\linewidth}
\begin{tikzcd}
Strings \ar[d,"Lexical\ Analysis"] \ar[dd,bend right=+90.0, swap,"Front\ End"]
&[5m]
\\ Lexemes \ar[d,"Parsing"] &[5em]
\\ ASTs \ar[d,"Type\ Checker"] &[5m]
\\ Typed\ ASTs
  \ar[dd, bend left, "Code\ Generator"] 
  \ar[dd, bend right, swap, "Interpreter"] &[5m]
\\ ...
\\ Target\ Language
\end{tikzcd}
\end{column}
\begin{column}{0.6 \linewidth}
\begin{tikzcd}
  Phonemes \arrow[d, "Morhphophonological
  \\ Anaylsis" description]
  \\ Morphemes \arrow[d, "Parse"]
  \\ \{\ Syntactic\ Representation\ \} \arrow[d, "Montague"', bend right=49]
    \arrow[d, "Ranta", bend left=49] \arrow[d, "..." description]
  \\ {\{\ STLC,\ ...\ ,\ DTT\ \}} \arrow[d, "?" description]
  \\ {\{\ Nearal Encoding\ ,\ ...\ ,\ I\ Language\ \}} \arrow[d, "?" description]
  \\ Phonemes
\end{tikzcd}
\end{column}
\end{columns}
\end{frame}

\begin{frame}[fragile]
\centering 
\begin{tikzcd}
                                                                            &  &  & Logic \arrow[llldddd, "Denotational\ Semantics" description] \arrow[rrrdddd, "Include\ Terms" description] &  &  &                                                                                                       \\
                                                                            &  &  &                                                                                                            &  &  &                                                                                                       \\
                                                                            &  &  &                                                                                                            &  &  &                                                                                                       \\
                                                                            &  &  &                                                                                                            &  &  &                                                                                                       \\
Math \arrow[rrruuuu, "Embedded\ in\ FOL", bend left] \arrow[rrrrrr, "ITP"'] &  &  &                                                                                                            &  &  & CS \arrow[llllll, "Denotational\ Semantics", bend left] \arrow[llluuuu, "Remove\ Terms"', bend right]
\end{tikzcd}
  

\end{frame}


\begin{frame}[fragile]
\centering 
\begin{tikzcd}
     &  &  & Logic                                                                                                                     &  &  &            \\
     &  &  &                                                                                                                           &  &  &            \\
     &  &  & Linguistics \arrow[uu, "Montague\ Semantics"'] \arrow[llldd, "Distributional\ Semantics"'] \arrow[rrrdd, "TT\ Semantics"] &  &  &            \\
     &  &  &                                                                                                                           &  &  &            \\
Math &  &  &                                                                                                                           &  &  & CS\ (MLTT)
\end{tikzcd} 

\end{frame}


\begin{frame}[fragile]
\centering 
\begin{tikzcd}
                                                &  &  & Logic \arrow[dd, "Embedding"] &  &  &                               \\
                                                &  &  &                               &  &  &                               \\
                                                &  &  & Linguistics                   &  &  &                               \\
                                                &  &  &                               &  &  &                               \\
Math \arrow[rrruu, "Language\ Of\ Mathematics"] &  &  &
&  &  & CS\ (MLTT) \arrow[llluu, "Meaning\ Explanations"]
\end{tikzcd} 

\end{frame}

\begin{frame}[fragile]
\centering 
  
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZAZgBoAGAXVJADcBDAGwFcYkQAZCAcywGMQAX1LpMufIRTlSAFmp0mrdgFl6OABZCRIDNjwEiANlnyGLNohABhAMoAdOwAIAFMo4AVdwEotovRKIyACZTRQsQAHEAMSF5GChueCJQADMAJwgAWyRpEBwIJDIQRnoAIxhGAAUxfUlimBScEBozJUsAJXowHHoHRy5ePj7nKwBBABEAUR9hVIzsxABGGnzCmhLyqpqAy0YGppaw9k7u3qcACQgcHGGbAFU+1Q0Z7XSspCCVgsQi1vC+ZilfhMTyxQRAA
\begin{tikzcd}
                                              &  &  & Logic \arrow[dd, "Ranta\ Logic\ (CADE)"] &  &  &                                       \\
                                              &  &  &                                          &  &  &                                       \\
                                              &  &  & GF                                       &  &  &                                       \\
                                              &  &  &                                          &  &  &                                       \\
Math \arrow[rrruu, "Ranta\ Hott\ (SU\ Math)"] &  &  &                                          &  &  & CS\ (MLTT) \arrow[llluu, "cubicalTT"]
\end{tikzcd}

\end{frame}

\begin{frame}[fragile]
\centering 

\begin{tikzcd}
     &  &  & Logic                                                                                                                                             &  &  &            \\
     &  &  &                                                                                                                                                   &  &  &            \\
     &  &  & GF \arrow[uu, "?"'] \arrow[llldd, "Theory\ of\ Operads"']
     \arrow[rrrdd, "Implementation\ of", bend left] \arrow[rrrdd, "Agda\ Embedding", bend right] &  &  &            \\
     &  &  &                                                                                                                                                   &  &  &            \\
Math &  &  &                                                                                                                                                   &  &  & CS\ (MLTT)
\end{tikzcd}

\end{frame}

\begin{frame}[fragile]
\centering 

\end{frame}

\section{Preliminaries and Perspectives}

\subsection{MLTT}

\begin{frame}

MLTT and its relation to FOL
Set theory
Implement mathematics constructively
More recent incarnations HoTT, and now cubical

\end{frame}

\begin{frame}

  Examples
Donkey anaphora
|
V
Dependent Types in GF

\end{frame}


\subsection{Agda}

\begin{frame}

What is Agda
- Logical Framework
- Interactive proof development environment
- Inductive Types, Modules,
- Implementation of MLTT

\end{frame}

\begin{frame}
Boolean example

(type theoretic syntax)

\end{frame}

\subsection{Philosophical Considerations}


\begin{frame}

  What is a Proof?
  
\end{frame}

\begin{frame}

  Defintions

  Syntctic Completeness
  Semantic Adequacy

\end{frame}

\begin{frame}[fragile]
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBoBmAXVJADcBDAGwFcYkQBlNGAYx2YBOAWwA6IgAQQAZmPEBxAGIgAvqXSZc+QijLFqdJq3YAZGAA8sPArI5YAXm1XrseAkXKk9NBizaJOAJ5gOPR8lrIAwhBCaIwwODBg8AhOIBguWu4U+j5G-hwwQvTB4RIAgrAAjsyhASpqaRqu2sgeAIw5hn4gKvowUADm8ESgUgLRSGQgOBBIbd5d7BwheHB4PEyyALLxABbQcAD89aPjQpM0M0geBr7sAErFIbIAEhAAKu+yAORtACwgGiMegAIxgjAACk1Mv4BFgBrscCcQGMJogpldEAAmBZ3fw8ZggyxMT7I1HndGXWaIP64vIgR7BeiyYwQAalcS-AFA0HgqEZNyw+GI3rKIA
\centering
\begin{tikzcd}
Lexicon\ Size                                                                                                                                          &  &  & Syntactic\ Completeness \\
                                                                                                                                                       &  &  & {}                      \\
                                                                                                                                                       &  &  &                         \\
Specturm\ of\ GF \arrow[uuu, "Statistical\ Methods?"] \arrow[rrr, "Ranta\ HoTT\ '14"'] \arrow[rrruuu, "cubicalTT"] \arrow[rrruu, "Ranta\ Logic\ '14"'] &  &  & Semantic\ Adequacy     
\end{tikzcd}

\end{frame}

\section{GF Grammars}


\begin{frame}

  

\end{frame}

\begin{frame}



\end{frame}



\begin{frame}[fragile]
\centering 

\end{frame}


\begin{frame}
  \frametitle{Overview}

\begin{enumerate}
\item \textit{Negation} is a contentions notion, in a sense (but we'll
  not get into this here)
\item Buszkowski added axioms for a kind of negation in categorial
  grammars
\item Wansing presents a different kind, which leads to motivation
  of connexive logic
\end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{Negative Information}
  To allow for the expression that ``'sleeps John' is an invalid
  sentence'' (it's not just ``not valid'', it's \textit{invalid}, one could assign it the type ``$¬(s\backslash n)$''
  
  There are many nice connections to algebra, and even category theory (Lambek calculus was inspired on that), but we won't be touching upon (no time).
  
\end{frame}
  

\section{Two Exercises}
\subsection{Negative Normal Form}

\begin{frame}


\begin{alertblock}{Observation 3.4}
For every type symbol $x$, $x'$ is in NNF and $\vdash_S x \Leftrightarrow x'$, for $S \in \{\textbf{NL}^\neg , \textbf{L}^\neg \}$.
\end{alertblock}  
\begin{columns}
\frametitle{The Negation Normal Form}
\begin{column}{0.4 \textwidth}
\begin{exampleblock}{Definition 3.1: type symbol}
  \begin{enumerate}
    \item atomic type symbols $x,y,w,\dots$ are type symbols;
    \item if $X$ and $Y$ are type symbols, also $(X * Y)$ is a type symbol, for $ * \in \{ \backslash , / , x \}$
    \item if $X$ is a type symbol, also $\neg X$ is a type symbol $( X \neq Y \times Z)$;
   % \item nothing else is a type symbol.
  \end{enumerate}
\end{exampleblock}
\end{column}

  \begin{column}{0.4 \textwidth}
  \begin{exampleblock}{Negation Normal Form}
  Define a function $'$ such that:
  \begin{align*}
    x' &= x \quad \text{\small (x atomic)}\\
    (\neg x)' &= \neg x \quad \text{\small (x atomic)}\\
    (\neg\neg X)' &= X' \\
    (X * Y)' &= (X' * Y') \\
    (\neg(Y/X))' &= ((\neg Y)'/X') \\
    (\neg (X\backslash Y))' &= (X' \backslash (\neg Y)')
  \end{align*}   
    \end{exampleblock} 
  \end{column}

\end{columns}
  
\end{frame}

\begin{frame}

% \begin{alertblock}{Observation 3.4}
% For every type symbol $x$, $x'$ is in NNF and $\vdash_S x \Leftrightarrow x'$, for $S \in \{\textbf{NL}^\neg , \textbf{L}^\neg \}$.
% \end{alertblock}  
Proof: \begin{itemize}
  \item[A.] $x$ is a type symbol $\rightarrow$ $x'$ is its negation normal form;
  \item[B.] $x$ is a type symbol $\rightarrow$ $\vdash_{\small S} x \Leftrightarrow x'$
\end{itemize}
\pause
\begin{block}{A.}
Proof is straightforward by induction on the complexity of type symbols.\\
%\alert{Intuitively:} negation is "pushed" inside in the cases $\backslash$ and $/$, removed in case $\neg \neg x$ \\

\end{block}
(note: $\neg (X * Y)$ is not a valid type symbol here).
  
\end{frame}

\begin{frame}
  \begin{block}{B. ($\Rightarrow case$)}
By induction on the complexity of $x$:
\begin{enumerate}
  \item <1-> $x$ is atomic: $x' = x$ and by $(id)$ $\vdash x \Rightarrow x'$;
  \item <2-> $x= (y \times w)$: by IH  $\vdash y \Leftrightarrow y'$ and $\vdash w \Leftrightarrow w'$
  \begin{prooftree}
  \AxiomC{$y \Rightarrow y'$}
  \AxiomC{$w \Rightarrow w'$}
  \RightLabel{\tiny $(\to \times)$}
  \BinaryInfC{$y, w \Rightarrow (y' \times x')$}
  \RightLabel{\tiny $(\times \to)$}
  \UnaryInfC{ $(y\times w) \Rightarrow (y' \times x')$}
  \end{prooftree}
  
  \item <2-> $x= (y / w)$: same IH
   \begin{prooftree}
  \AxiomC{$w' \Rightarrow w$}
  \AxiomC{$y \Rightarrow y'$}
  \RightLabel{\tiny $(/ \to)$}
  \BinaryInfC{$(y/ w), w' \Rightarrow y'$}
  \RightLabel{\tiny $(\to /)$}
  \UnaryInfC{ $y/ w \Rightarrow y'/w'$}
  \end{prooftree}
  
  \item <2-> $x= (y \backslash w)$: dual.
%    \begin{prooftree}
%      \AxiomC{$y' \Rightarrow y$}
%   \AxiomC{$w \Rightarrow w'$}
%   \RightLabel{\tiny $(\backslash \to)$}
%   \BinaryInfC{$y',(y\backslash w)\Rightarrow w'$}
%   \RightLabel{\tiny $(\to \backslash)$}
%   \UnaryInfC{ $y\backslash w \Rightarrow y'\backslash w'$}
%   \end{prooftree}
\end{enumerate}
\end{block}

\end{frame}

\begin{frame}
  \begin{block}{}
  \begin{enumerate}
    \item[5] $x = \neg y$: by IH $\vdash y \Leftrightarrow y' $  \\We can't deduce $\neg y \Leftrightarrow (\neg y)' $ directly. We need to look at $y$:
    \begin{itemize}
      \item <2-> $y$ atomic then $(\neg y)' = \neg y$ and $\vdash \neg y \Rightarrow \neg y$ by (id);
      \item <2-> $y =\neg w$. We want a proof of $\neg \neg w \Leftrightarrow (\neg \neg w)'$. 
      By IH we know that $\vdash w \Leftrightarrow w'$ 

      \begin{prooftree}
      \AxiomC{$w \Rightarrow w'$}
    \RightLabel{\tiny $(\neg \neg \to)$}
      \UnaryInfC{$ \neg  \neg w \Rightarrow w'$}
     \RightLabel{\tiny $(\to \neg \neg )$}
      \UnaryInfC{$ \neg  \neg w \Rightarrow \neg \neg w'$}
      \end{prooftree} 
      
      \item <3-> $y = w/z$. We want a proof of $\neg (w/z) \Rightarrow ((\neg w')/z')$ since $(\neg (w/z))' = ((\neg w')/z')$
      By IH we can assume \[z \Leftrightarrow z' \qquad \neg w \Leftrightarrow (\neg w)'\]
 
         \begin{prooftree}
  \AxiomC{$z' \Rightarrow z$}
  \AxiomC{$\neg w \Rightarrow (\neg w)'$}
  \RightLabel{\tiny $(\neg / \to)$}
  \BinaryInfC{$\neg (w/z), z' \Rightarrow (\neg w)'$}
  \RightLabel{\tiny $(\to /)$}
  \UnaryInfC{ $ \neg (w/z) \Rightarrow ((\neg w)'/z')$}
  \end{prooftree}
     \end{itemize}
  \end{enumerate}
  
  \end{block}
\end{frame}

\subsection{Proof in Agda}


\begin{frame}
\begin{columns}

\begin{column}{0.4 \textwidth}
\begin{exampleblock}{Definition 3.1: type symbol}
  \begin{enumerate}
    \item Atomic type symbols $x,y,w,\dots$ are type symbols;
    \item if $X$ and $Y$ are type symbols, also $(X * Y)$ is a type symbol, for $ * \in \{ \backslash , / , x \}$
    \item if $X$ is a type symbol, also $\neg X$ is a type symbol $( X \neq Y \times Z)$;
    \item nothing else is a type symbol.
  \end{enumerate}
\end{exampleblock}
\end{column}

  \begin{column}{0.6 \textwidth}

  % \include{latex/Foo}

  \end{column}

\end{columns}
\end{frame}


\begin{frame}


\begin{columns}
\begin{column}{0.4 \textwidth}
\begin{exampleblock}{Definition 3.2: categorial entailment}

  \begin{prooftree}
  \AxiomC{}
  \RightLabel{\tiny $(id)$}
  \UnaryInfC{$x \Rightarrow x$}
  \end{prooftree}

	\begin{prooftree}
  \AxiomC{$x,X \Rightarrow y$}
  \RightLabel{\tiny $(\to \backslash )$}
  \UnaryInfC{$X \Rightarrow (x\backslash y)$}
  \end{prooftree}
  
  \begin{prooftree}
  \AxiomC{$X \Rightarrow x$}
  \AxiomC{$Y,y,Y' \Rightarrow z$}
  \RightLabel{\tiny $(\backslash \to)$}
  \BinaryInfC{$Y,X,(x\backslash y),Y' \Rightarrow z$}
  \end{prooftree}
  

\end{exampleblock}
\end{column}


  \begin{column}{0.7 \textwidth}

  % \include{latex/Foo1}

  \end{column}

\end{columns}
\end{frame}




\end{document}
